<o2 comment>This file was originally auto-generated by O2 with contents hashing to 0166eb2b751b0e0b7ef2374a89f3539c</o2:comment>
<o2 use Html::Form />
<o2 use O2CMS::Html::Form::DragList />

<o2 use I18N />
<o2 setResourcePath>classes.o2.obj.image.gallery</o2:setResourcePath>

<o2 addCss>
  #formTable {
    float        : left;
    margin-right : 10px;
  }
  #imageTitlesAndDescriptions {
    width  : 560px;
    height : 400px;
    border : none;
  }
</o2:addCss>

<o2 addJs>
  function showImageTitlesAndDescriptions() {
    var iframe = document.getElementById( "imageTitlesAndDescriptions" );
    iframe.style.display = "block";
    iframe.src = '<o2 urlMod setClass="Image::Gallery" setMethod="editTitlesAndDescriptions"/>';
  }
</o2:addJs>

<o2 multilingualController object="$object" />

<div id="formTable">
  <o2 formTable>
    <o2 input label="$lang->getString('lblMetaName')" name="metaName" value="$object->getMetaName()" onChange="setMetaName(this.value)" rule="required" ruleMsg="$lang->getString('ruleMsgMetaNameRequired')" />
    <o2 textarea name="object.description" label="$lang->getString('lblDescription')" multilingual="1" value="$object->getDescription()" />
    <o2 input type="text" name="object.title" value="$object->getTitle()" label="$lang->getString('lblTitle')" size="" multilingual="1"/>
    
    <o2 dragList id="object.imageIds[]" label="$lang->getString('lblImageIds')" allowClass="" replace="no" reorganize="yes" unique="no" removeOnDragEnd="yes" textMethodName="getMetaName" iconSize="24">
      <o2 foreach "$item in $object->getImages()">
        <o2 objectItem>$item</o2:objectItem>
      </o2:foreach>
    </o2:dragList>
    
  </o2:formTable>
</div>
<o2 input type="button" value="$lang->getString('btnEditTitlesAndDescriptions')" onClick="showImageTitlesAndDescriptions()"/><br>
<iframe id="imageTitlesAndDescriptions" src="about:blank"></iframe>
